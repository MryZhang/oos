<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html lang="de"> 
  <head> 
    <meta http-equiv="content-type" content="text/html; charset=utf-8"> 
    <title>Open Object Store</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head> 
<body>
  <div id="wrapper">
    <div id="header">
      <h1>Open Object Store.</h1>
    </div>
    <div id="content">
      <h3 class="clear">Getting started</h3>
      <pre style='color:#000000;background:#ffffff;'><span style='color:#800000; font-weight:bold; '>class</span> Artist <span style='color:#800080; '>:</span> <span style='color:#800000; font-weight:bold; '>public</span> oos<span style='color:#800080; '>::</span>object
      <span style='color:#800080; '>{</span>
      <span style='color:#800000; font-weight:bold; '>private</span><span style='color:#e34adc; '>:</span>
        <span style='color:#696969; '>// artists name</span>
        <span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>string</span> name_<span style='color:#800080; '>;</span>
      <span style='color:#800000; font-weight:bold; '>public</span><span style='color:#e34adc; '>:</span>
        <span style='color:#696969; '>// needed by factory</span>
        Artist<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span><span style='color:#800080; '>}</span>
        <span style='color:#696969; '>// add your custom c'tors</span>
        Artist<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>const</span> <span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>string</span> <span style='color:#808030; '>&amp;</span>name<span style='color:#808030; '>)</span> <span style='color:#800080; '>:</span> name_<span style='color:#808030; '>(</span>anme<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span><span style='color:#800080; '>}</span>
        <span style='color:#696969; '>// virtual d'tor</span>
        <span style='color:#800000; font-weight:bold; '>virtual</span> <span style='color:#808030; '>~</span>Artist<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span><span style='color:#800080; '>}</span>
      
        <span style='color:#696969; '>// generic interface to access data</span>
        <span style='color:#800000; font-weight:bold; '>virtual</span> write_to<span style='color:#808030; '>(</span>oos<span style='color:#800080; '>::</span>object_atomizer <span style='color:#808030; '>*</span>oa<span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>const</span>
        <span style='color:#800080; '>{</span>
          object<span style='color:#800080; '>::</span>write_to<span style='color:#808030; '>(</span>oa<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
          oa<span style='color:#808030; '>-</span><span style='color:#808030; '>></span>write_string<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>name</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span> name_<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
        <span style='color:#800080; '>}</span>
        <span style='color:#800000; font-weight:bold; '>virtual</span> read_from<span style='color:#808030; '>(</span>oos<span style='color:#800080; '>::</span>object_atomizer <span style='color:#808030; '>*</span>oa<span style='color:#808030; '>)</span>
        <span style='color:#800080; '>{</span>
          object<span style='color:#800080; '>::</span>read_from<span style='color:#808030; '>(</span>oa<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
          oa<span style='color:#808030; '>-</span><span style='color:#808030; '>></span>read_string<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>name</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span> name_<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
        <span style='color:#800080; '>}</span>
      
        <span style='color:#696969; '>// add access methods for your members</span>
        <span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>string</span> name<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>const</span> <span style='color:#800080; '>{</span> <span style='color:#800000; font-weight:bold; '>return</span> name_<span style='color:#800080; '>;</span> <span style='color:#800080; '>}</span>
        <span style='color:#800000; font-weight:bold; '>void</span> name<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>const</span> <span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>string</span> <span style='color:#808030; '>&amp;</span>n<span style='color:#808030; '>)</span>
        <span style='color:#800080; '>{</span>
          <span style='color:#696969; '>// call this to tell the object store</span>
          <span style='color:#696969; '>// that your object is about to change</span>
          <span style='color:#696969; '>// a member. never forget!</span>
          mark_modified<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
          name_ <span style='color:#808030; '>=</span> n<span style='color:#800080; '>;</span>
        <span style='color:#800080; '>}</span>
      <span style='color:#800080; '>}</span><span style='color:#800080; '>;</span>
      </pre>
    </div>
  </div>
</body>
