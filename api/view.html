---
title: Object Views
layout: reference
---
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Documentation</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Object Views </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p> 
<div class="width75 float_left">
</p>
<p> 
<table id="doc_nav"><tbody><tr>
  <td><div class="left-arrow-top"></td>
  <td align="left" width="40%">Prev</td>
  <td align="center" width="20%"></td>
  <td align="right" width="40%">Next</td>
  <td><div class="right-arrow-top"></td></tr><tr>
  <td><div class="left-arrow-bottom"></td>
  <td align="left" width="40%">
 <a class="el" href="relations.html">Object Relations</a>  
  </td>
  <td width="20%"></td>
  <td align="right" width="40%">
 <a class="el" href="expressions.html">Expressions</a>  
  </td><td><div class="right-arrow-bottom"></td>
</tr></tbody></table>
</p>
<h1><a class="anchor" id="object_view_sec"></a>
Open a view</h1>
<p>In most cases we want to iterate over all objects of a certain type. How can we achieve this? We open a view for the type we want to inspect.</p>
<p>Again we use our little person class and insert some persons into our store.</p>
<div class="fragment"><div class="line"><span class="comment">// add some friends</span></div><div class="line">ostore.insert(<span class="keyword">new</span> person(<span class="stringliteral">&quot;joe&quot;</span>))</div><div class="line">ostore.insert(<span class="keyword">new</span> person(<span class="stringliteral">&quot;walter&quot;</span>));</div><div class="line">ostore.insert(<span class="keyword">new</span> person(<span class="stringliteral">&quot;helen&quot;</span>));</div><div class="line">ostore.insert(<span class="keyword">new</span> person(<span class="stringliteral">&quot;tim&quot;</span>));</div></div><!-- fragment --><p>Than we create a view with the <a class="el" href="classoos_1_1object__view.html" title="Create a view for a concrete serializable type. ">oos::object_view</a> class. This class takes as the template parameter the desired class type. Then we can use the view like a STL list containing <a class="el" href="classoos_1_1object__ptr.html" title="The object_ptr holds a pointer to an serializable. ">oos::object_ptr</a> of our desired type.</p>
<div class="fragment"><div class="line"><span class="comment">// shortcut to the person view</span></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classoos_1_1object__view.html">oos::object_view&lt;person&gt;</a> person_view_t;</div><div class="line"></div><div class="line">person_view_t pview(ostore);</div><div class="line"></div><div class="line">person_view_t::iterator i = pview.begin();</div><div class="line"><span class="keywordflow">for</span> (i; i != pview.end(); ++i) {</div><div class="line">  std::cout &lt;&lt; i-&gt;name() &lt;&lt; std::endl;</div><div class="line">}</div></div><!-- fragment --><p>But this class can to somethig more for us. If we have a hierarchy of classes, we can create a view of the base type and easily iterate overall sub-types.</p>
<p>Look at the next example. We have a hierachy with the person class as base class and inherited from that we have classes student and employee. And again we create a view of type person to access all objects of type person including sub-types student and employee.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>student : <span class="keyword">public</span> person { <span class="comment">//... };</span></div><div class="line"><span class="keyword">class </span>employee : <span class="keyword">public</span> person { <span class="comment">//... };</span></div><div class="line"></div><div class="line">oos::object_store ostore;</div><div class="line">ostore.insert_prototype&lt;person&gt;(<span class="stringliteral">&quot;person&quot;</span>);</div><div class="line">ostore.insert_prototype&lt;student, person&gt;(<span class="stringliteral">&quot;student&quot;</span>);</div><div class="line">ostore.insert_prototype&lt;employee, person&gt;(<span class="stringliteral">&quot;employee&quot;</span>);</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classoos_1_1object__view.html">oos::object_view&lt;person&gt;</a> person_view_t;</div><div class="line"></div><div class="line">person_view_t pview(ostore);</div><div class="line"></div><div class="line">person_view_t::iterator i = pview.begin();</div><div class="line"><span class="keywordflow">for</span> (i; i != pview.end(); ++i) {</div><div class="line">  std::cout &lt;&lt; i-&gt;name() &lt;&lt; std::endl;</div><div class="line">}</div></div><!-- fragment --><p> 
<table id="doc_nav"><tbody><tr>
  <td><div class="left-arrow-top"></td>
  <td align="left" width="40%">Prev</td>
  <td align="center" width="20%"></td>
  <td align="right" width="40%">Next</td>
  <td><div class="right-arrow-top"></td></tr><tr>
  <td><div class="left-arrow-bottom"></td>
  <td align="left" width="40%">
 <a class="el" href="relations.html">Object Relations</a>  
  </td>
  <td width="20%"></td>
  <td align="right" width="40%">
 <a class="el" href="expressions.html">Expressions</a>  
  </td><td><div class="right-arrow-bottom"></td>
</tr></tbody></table>
</p>
<p> 
</div>
<div id="side_toc" class="width25 float_right">
 <b>Table of content</b> <br />
</p><ul>
<li>
<a class="el" href="index.html">Overview</a> </li>
<li>
<a class="el" href="objects.html">Objects</a> <ul>
<li>
<a class="el" href="objects.html#step1">Derive from class object</a> </li>
<li>
<a class="el" href="objects.html#step2">Provide access methods</a> </li>
<li>
<a class="el" href="objects.html#step3">Make it serializable</a> </li>
</ul>
</li>
<li>
<a class="el" href="store.html">Object Store</a> <ul>
<li>
<a class="el" href="store.html#prototypes">Setup object hierarchy</a> </li>
<li>
<a class="el" href="store.html#add_objects">Add objects</a> </li>
<li>
<a class="el" href="store.html#modify_objects">Modify objects</a> </li>
<li>
<a class="el" href="store.html#remove_objects">Remove objects</a> </li>
</ul>
</li>
<li>
<a class="el" href="relations.html">Object Relations</a> <ul>
<li>
<a class="el" href="relations.html#one_to_one">OneToOne relations</a> </li>
<li>
<a class="el" href="relations.html#one_to_many">OneToMany relations</a> </li>
</ul>
</li>
<li>
<a class="el" href="view.html">Object Views</a> </li>
<li>
<a class="el" href="expressions.html">Expressions</a> </li>
<li>
<a class="el" href="database.html">Database</a> <ul>
<li>
<a class="el" href="database.html#support_sec">Supported Databases</a> </li>
<li>
<a class="el" href="database.html#db_relation_sec">Relations on Database</a> </li>
</ul>
</li>
</ul>
<p> 
</div>
 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 13 2016 16:25:56 for Open Object Store by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
